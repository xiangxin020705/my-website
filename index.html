<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
<title>åŒä»åŒå®ï½œç”·æ€§æœºèƒ½è‡ªæµ‹æŠ¥å‘Šï¼ˆç§»åŠ¨ç«¯H5Â·å•æ–‡ä»¶ï¼‰</title>
<meta name="theme-color" content="#0a0f1d">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<style>
  :root{
    --bg:#080b16;--card:#0f1426;--muted:#9aa7b5;--text:#e6edf3;--accent:#3dd6d0;--accent-2:#8a5cff;--gold:#f1c961;
    --success:#37d67a;--warn:#ffce3a;--danger:#ff6b6b;
    --radius:16px;
    --shadow: 0 10px 28px rgba(0,0,0,.4), inset 0 0 0 1px rgba(255,255,255,.04);
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{height:100%}
  body{
    margin:0;background:radial-gradient(1000px 700px at 80% -10%, #12213f 0%, #0b1226 40%, #080b16 70%, #070910 100%);
    color:var(--text);
    font: 15px/1.7 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","Noto Sans CJK SC",sans-serif;
    overflow-x:hidden;
    padding-top:calc(var(--safe-top) + 6px);
  }
  /* æ‰‹æœºä¼˜å…ˆå­—å· */
  h1{font-size:clamp(22px,5.6vw,36px);margin:.3em 0 .1em;line-height:1.2;font-weight:800}
  h2{font-size:clamp(18px,4.6vw,24px);margin:1.1em 0 .6em}
  h3{font-size:clamp(16px,4.2vw,20px);margin:.8em 0 .4em}
  p,li{font-size:clamp(14px,3.8vw,16px)}
  small{color:var(--muted)}
  /* ç²’å­èƒŒæ™¯ï¼ˆè‡ªåŠ¨é™çº§ï¼‰ */
  canvas#bg{position:fixed;inset:0;z-index:0;filter:contrast(110%) saturate(110%);pointer-events:none}
  /* é¡µå¤´ */
  .hero{position:relative;z-index:1;padding:18px 14px 6px;max-width:980px;margin:0 auto}
  .brand{display:flex;gap:8px;align-items:center;color:#c7d2fe;letter-spacing:.12em;text-transform:uppercase;font-weight:700;font-size:12px;opacity:.9}
  .brand .dot{width:8px;height:8px;border-radius:50%;background:conic-gradient(from 0deg,#3dd6d0,#8a5cff,#f1c961,#3dd6d0)}
  .subtitle{color:var(--muted);margin-top:6px}
  /* å¡ç‰‡ å•åˆ—æµ */
  .stack{display:flex;flex-direction:column;gap:12px;margin-top:14px}
  .card{
    background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02)),var(--card);
    border-radius:var(--radius);padding:14px;border:1px solid rgba(255,255,255,.06);box-shadow:var(--shadow);isolation:isolate
  }
  .card::before{
    content:"";position:absolute;inset:-1px;border-radius:var(--radius);
    padding:1px;background:linear-gradient(60deg,rgba(61,214,208,.28),rgba(138,92,255,.2),rgba(241,201,97,.2));
    -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:.75;pointer-events:none
  }
  .kv{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 4px}
  .kv .chip{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);padding:6px 10px;border-radius:999px;font-size:12px}
  /* è¿›åº¦æ¡ */
  .progress{display:grid;grid-template-columns:92px 1fr;gap:8px;align-items:center;margin:8px 0}
  .tag{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;font-size:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05)}
  .tag.good{color:#7af7b2;border-color:rgba(55,214,122,.35)}
  .tag.mid{color:#ffd36b;border-color:rgba(255,211,107,.35)}
  .tag.bad{color:#ff9b9b;border-color:rgba(255,155,155,.35)}
  .bar{height:14px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));position:relative;overflow:hidden}
  .bar>i{position:absolute;inset:0;transform-origin:left center;transform:scaleX(var(--v,.4));
    background:linear-gradient(90deg,var(--accent),var(--accent-2));box-shadow:0 0 18px rgba(61,214,208,.45)}
  /* é›·è¾¾å›¾ï¼ˆç§»åŠ¨ç«¯å°ºå¯¸ï¼‰ */
  .radar{height:260px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.015));border:1px solid rgba(255,255,255,.06);margin-top:10px}
  /* æŠ˜å å­å¡ï¼ˆè§¦æ§å‹å¥½ï¼‰ */
  .pane{border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:12px;background:rgba(255,255,255,.03);margin:8px 0}
  /* ç²˜åº•å¤§æŒ‰é’®ï¼ˆå®‰å…¨åŒºé€‚é…ï¼‰ */
  .cta{position:sticky;bottom:0;z-index:3;padding:10px 12px calc(12px + var(--safe-bottom));background:linear-gradient(180deg,transparent,rgba(8,11,22,.85))}
  .btn{
    width:100%;display:inline-flex;justify-content:center;align-items:center;gap:10px;padding:14px 16px;border-radius:14px;
    color:#081018;background:linear-gradient(90deg,#3dd6d0,#8a5cff);border:1px solid rgba(255,255,255,.2);
    box-shadow:0 10px 26px rgba(61,214,208,.45);font-weight:800;font-size:16px;letter-spacing:.02em
  }
  .btn:active{transform:translateY(1px)}
  /* é¡¶éƒ¨å·¥å…·ï¼ˆç§»åŠ¨å…¨å±ç¼–è¾‘ï¼‰ */
  .tools{position:fixed;top:6px;right:8px;z-index:9;display:flex;gap:8px}
  .tools button{background:rgba(255,255,255,.08);color:var(--text);border:1px solid rgba(255,255,255,.18);backdrop-filter:blur(6px);padding:8px 10px;border-radius:10px;font-size:12px}
  .panel{
    position:fixed;inset:0;z-index:10;display:none;background:rgba(8,11,22,.98);padding:calc(10px + var(--safe-top)) 12px calc(12px + var(--safe-bottom));
  }
  .panel h3{margin:.2em 0 .6em}
  .panel textarea{width:100%;height:48vh;background:#0c1224;color:#e6edf3;border:1px solid rgba(255,255,255,.18);border-radius:10px;padding:10px;font-family:ui-monospace,Menlo,Consolas,monospace}
  .panel .row{display:flex;gap:8px;margin-top:10px}
  .panel .row button{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.06);color:#fff}
  .disclaimer{color:#94a3b8;font-size:12px;margin-top:8px}
  /* è½»é‡å…¥åœºåŠ¨æ•ˆï¼ˆå‡å°‘ç§»åŠ¨è´Ÿæ‹…ï¼‰ */
  .reveal{opacity:0;transform:translateY(10px);animation:rise .6s .05s both}
  @keyframes rise{to{opacity:1;transform:none}}
  /* é™çº§ï¼šç”¨æˆ·åå¥½å‡å°‘åŠ¨æ•ˆ */
  @media (prefers-reduced-motion: reduce){
    *{animation:none!important;transition:none!important}
    canvas#bg{display:none}
  }
  /* æ¨ªå±/å¹³æ¿å¢å¼º */
  @media (min-width:768px){
    body{font-size:16px}
    .hero{padding:24px 20px 8px}
    .stack{gap:16px}
    .radar{height:300px}
  }
</style>
</head>
<body>
<canvas id="bg"></canvas>

<div class="tools">
  <button id="editBtn">ğŸ› ï¸ ç¼–è¾‘æ•°æ®</button>
  <button onclick="window.print()">ğŸ–¨ï¸ æ‰“å°/å¯¼å‡ºPDF</button>
</div>

<div class="panel" id="editor">
  <h3>ç¼–è¾‘å®¢æˆ·æ•°æ®ï¼ˆä¿å­˜åå®æ—¶é‡ç®—ï¼‰</h3>
  <textarea id="jsonArea"></textarea>
  <div class="row">
    <button onclick="applyJSON()">ä¿å­˜âœ”</button>
    <button onclick="demoFill()">å¡«å…¥ç¤ºä¾‹</button>
    <button onclick="editor.style.display='none'">å…³é—­</button>
  </div>
  <div class="disclaimer">æç¤ºï¼šé¡µé¢ä»…ä½œå¥åº·ç®¡ç†ä¸ç”Ÿæ´»æ–¹å¼å‚è€ƒï¼Œä¸æ›¿ä»£åŒ»ç–—è¯Šæ–­ï¼›å¦‚æœ‰ä¸é€‚è¯·åŠæ—¶å°±åŒ»ã€‚</div>
</div>

<section class="hero">
  <div class="brand"><span class="dot"></span> GUOYAOTEYI Â· TONGREN DOUBLE TREASURE</div>
  <h1 class="reveal">ç”·æ€§æœºèƒ½è‡ªæµ‹åˆ†ææŠ¥å‘Š</h1>
  <p class="subtitle reveal">åŸºäº PÂ·PÂ·AÂ·Sï¼ˆä¸“ä¸šå­¦ä¹  Â· ä¸ªæ€§è®­ç»ƒ Â· æƒå¨é£Ÿå…» Â· ç§åŸŸé™ªè·‘ï¼‰çš„åˆè§„è¯„ä¼°ä¸è¡ŒåŠ¨æŒ‡å¼•ã€‚</p>

  <div class="stack">
    <!-- æ¦‚å†µ+è¯„åˆ† -->
    <div class="card reveal" id="report">
      <h3>ä¸€ã€å®¢æˆ·æ¦‚å†µ & å…³é”®ç»“è®º</h3>
      <div class="kv" id="chips"></div>

      <div class="progress"><div class="tag mid">èƒ½é‡åŸºç¡€</div><div class="bar"><i id="p_energy"></i></div></div>
      <div class="progress"><div class="tag mid">ç¨³å®šç»´æŒ</div><div class="bar"><i id="p_stability"></i></div></div>
      <div class="progress"><div class="tag mid">æ§åˆ¶èƒ½åŠ›</div><div class="bar"><i id="p_control"></i></div></div>
      <div class="progress"><div class="tag mid">æ¢å¤é€Ÿåº¦</div><div class="bar"><i id="p_recovery"></i></div></div>

      <div class="radar"><canvas id="radar"></canvas></div>

      <h3>äºŒã€ä¸“ä¸šè§£è¯»ï¼ˆåè¯Šæ–­å£å»ï¼‰</h3>
      <div id="insights"></div>

      <h3>ä¸‰ã€é£é™©ä¸è¾¹ç•Œ</h3>
      <ul class="muted" id="risks">
        <li>å½“å‰çŠ¶æ€å±äº<strong>äºšå¥åº·çš„åŠŸèƒ½å¤±è¡¡</strong>ï¼Œä¸ç­‰åŒäºç–¾ç—…è¯Šæ–­ã€‚</li>
        <li>æŠ¥å‘ŠåŸºäºå®¢æˆ·è‡ªè¿°é—®å·ï¼Œä¼šå—ä¿¡æ¯å……åˆ†æ€§ä¸å½“ä¸‹çŠ¶æ€æ³¢åŠ¨å½±å“ã€‚</li>
        <li>ä¸¥ç¦â€œæ²»ç–—/ä¿è¯â€ç­‰æ‰¿è¯ºï¼›æˆ‘ä»¬å¼ºè°ƒ<strong>ç§‘å­¦æ–¹æ³•+å®‰å…¨åˆè§„+æŒç»­é™ªè·‘</strong>ã€‚</li>
      </ul>
    </div>

    <!-- è¡ŒåŠ¨å¼•å¯¼ -->
    <div class="card reveal" id="sales">
      <h3>å››ã€è¡ŒåŠ¨æ–¹æ¡ˆ & åˆè§„é”€å”®è¯æœ¯</h3>
      <div class="pane" id="script_main"></div>

      <h3>äº”ã€é˜¶æ®µåŒ–è·¯å¾„ï¼ˆ90å¤©ç¤ºä¾‹ï¼‰</h3>
      <div class="pane" id="ph1"></div>
      <div class="pane" id="ph2"></div>
      <div class="pane" id="ph3"></div>
      <div class="pane" id="bundle"></div>

      <h3>å…­ã€åˆè§„è¡¨è¾¾æç¤º</h3>
      <small>ç”¨â€œæ”¯æŒ/ä¼˜åŒ–/å¸®åŠ©æå‡ä½“éªŒ/æœºä¼š/ç¯å¢ƒâ€æ›¿ä»£â€œæ²»ç–—/æ²»æ„ˆ/ä¿è¯â€ï¼›é‡ç‚¹æ‰¿è¯ºï¼š<b>ç§‘å­¦æ–¹æ³• + å®‰å…¨åˆè§„ + é™ªè·‘æœåŠ¡</b>ï¼Œä¸æ‰¿è¯ºå…·ä½“æ—¶é•¿ä¸æ•°å€¼ã€‚</small>
    </div>
  </div>
</section>

<!-- ç²˜åº•CTAï¼šå¤§æ‹‡æŒ‡å¯ç‚¹ -->
<div class="cta">
  <button class="btn" id="startBtn">ç«‹å³å¯åŠ¨ã€Œèƒ½é‡ä¸æ§åˆ¶åŠ›å”¤é†’æ–¹æ¡ˆã€</button>
</div>

<script>
/* ======================
   1) ç§»åŠ¨ç«¯æ•°æ®ï¼ˆå¯ç¼–è¾‘ï¼‰
   ====================== */
let data = {
  client: {
    name: "å¼ å…ˆç”Ÿ",
    age: 38,
    occupation: "äº’è”ç½‘ä¸­å±‚ç®¡ç†",
    answers: {
      erectionHardness: "æ’å…¥æˆ–ä¸å¤Ÿåšç¡¬",
      maintainAbility: "å¶å°”å¯ä»¥",
      timeToEjac: "1åˆ†é’Ÿä»¥å†…",
      fatigue: "ç»å¸¸",
      libidoChange: "å‡ ä¹æ²¡æœ‰",
      performanceChange: "å‡ ä¹æ²¡æœ‰",
      anxiety: "ä»ä¸æˆ–å¾ˆå°‘",
      interestInSex: "å‡ ä¹æ²¡æœ‰",
      thinkNormalAging: "æ¯”è¾ƒè®¤åŒ",
      lifestylePoor: "å¶å°”",
      relationshipImpact: "æ²¡æœ‰å½±å“"
    }
  }
};

/* ======================
   2) è¯„åˆ†
   ====================== */
function computeScores(a){
  const clamp = v=>Math.max(.08, Math.min(.95, v));
  let energy = 0.52 + (a.fatigue==="ç»å¸¸"?-0.25: a.fatigue==="å¶å°”"?-0.08:0) + (a.lifestylePoor==="ç»å¸¸"?-0.18: a.lifestylePoor==="å¶å°”"?-0.06:0);
  let stability = 0.56 + (a.maintainAbility==="å¶å°”å¯ä»¥"?-0.18: a.maintainAbility==="ç»å¸¸å¯ä»¥"?-0.06:0) + (a.erectionHardness.includes("ä¸å¤Ÿåšç¡¬")?-0.18:0);
  let control = 0.50 + (a.timeToEjac.includes("1åˆ†é’Ÿ")?-0.25: a.timeToEjac.includes("3")?-0.08:0) + (a.anxiety==="ç»å¸¸"?-0.08:0);
  let recovery = 0.56 + (a.fatigue==="ç»å¸¸"?-0.12:0) + (a.lifestylePoor==="å¶å°”"?-0.04: a.lifestylePoor==="ç»å¸¸"?-0.1:0);
  return {energy:clamp(energy), stability:clamp(stability), control:clamp(control), recovery:clamp(recovery)};
}
function qualitative(v){
  if(v>=0.75) return {label:"è‰¯å¥½", cls:"good"};
  if(v>=0.45) return {label:"ä¸­ç­‰", cls:"mid"};
  return {label:"å¾…ä¼˜åŒ–", cls:"bad"};
}

/* ======================
   3) æ¸²æŸ“
   ====================== */
function render(){
  const a = data.client.answers;
  const s = computeScores(a);

  // é¡¶éƒ¨chips
  document.getElementById('chips').innerHTML = [
    `å®¢æˆ·ï¼š${data.client.name}`,`å¹´é¾„ï¼š${data.client.age}`,
    `èŒä¸šï¼š${data.client.occupation||"â€”"}`,`æ—¶é—´ï¼š${new Date().toLocaleDateString()}`
  ].map(t=>`<span class="chip">${t}</span>`).join("");

  // è¿›åº¦æ¡
  const setBar = (id,val,label)=>{
    const el = document.getElementById(id);
    el.style.setProperty('--v', val);
    const q = qualitative(val);
    const tag = el.parentElement.previousElementSibling;
    tag.className = `tag ${q.cls}`;
    tag.textContent = `${tag.textContent.split(' ')[0]} Â· ${q.label}`;
  };
  setBar('p_energy', s.energy);
  setBar('p_stability', s.stability);
  setBar('p_control', s.control);
  setBar('p_recovery', s.recovery);

  // è§£è¯»
  const insights = [
    {t:"èƒ½é‡åŸºç¡€ Â· å¾…å·©å›º", b:`ç™½å¤©æ˜“ç–²åŠ³ã€å…´è¶£åä½ â†’ <b>èƒ½é‡åº“</b>ä¾›ç»™ä¸è¶³ï¼›å»ºè®®å…ˆåšç¡çœ ä¸è¡¥æ°´èŠ‚å¾‹ï¼Œè¾…ä»¥â€œå†…æœåŒå¼•æ“â€ï¼ˆé»„ç²¾æ·«ç¾Šè—¿/ç›å’–è¥¿æ´‹å‚ï¼‰ä½œæ—¥å¸¸æ´»åŠ›çš„<small>æ”¯æŒ</small>ã€‚`},
    {t:"çŠ¶æ€ç¨³å®š Â· æ˜“æ³¢åŠ¨", b:`â€œå¶å°”å¯ç»´æŒâ€+ä¸»è§‚ç¡¬åº¦åå¼± â†’ å‹åŠ›/ç–²æƒ«æ—¶ä¸‹æ»‘æ˜æ˜¾ï¼›åŠ å…¥æ ¸å¿ƒè‚Œç¾¤ä¸å‘¼å¸èŠ‚å¾‹è®­ç»ƒï¼Œæå‡ç¨³æ€ã€‚`},
    {t:"æ§åˆ¶èƒ½åŠ› Â· éœ€è®­ç»ƒ", b:`â€œ1åˆ†é’Ÿä»¥å†…â€æç¤ºèŠ‚å¥æ§åˆ¶å°šæœªå»ºç«‹ï¼›é‡‡ç”¨<b>åˆ†æ®µå¼èŠ‚å¾‹æ§åˆ¶</b>ï¼ŒåˆæœŸå¯é…â€œæ§æ—¶å–·å‰‚â€ä½œä¸ºä»å®¹æ„Ÿâ€œå‰¯åˆ¹è½¦â€ã€‚`},
    {t:"æ¢å¤é€Ÿåº¦ Â· ä¸­ç­‰åå¼±", b:`å¶å‘ç†¬å¤œ/ä¹…å+ç»å¸¸ç–²åŠ³ â†’ ä¿®å¤æ›²çº¿åå¹³ï¼›åŠ å…¥æ‹‰ä¼¸æ”¾æ¾ï¼Œå¹¶ä»¥ä¿®å¤æŒ‰æ‘©è†/åšé‡‘æ²¹è¿›è¡Œâ€œç¡¬ä»¶+é€šè·¯â€çš„<small>å…»æŠ¤</small>ã€‚`}
  ];
  document.getElementById('insights').innerHTML = insights.map(x=>`
    <div class="pane">
      <div class="tag mid" style="margin-bottom:6px">${x.t}</div>
      <div>${x.b}</div>
    </div>`).join("");

  // è¯æœ¯
  document.getElementById('script_main').innerHTML = `
    <p>å“¥ï¼Œä»æ‚¨çš„è‡ªæµ‹æƒ…å†µçœ‹ï¼Œä¸»è¦æ˜¯<b>èƒ½é‡ä¸è¶³ + ç¨³å®šä¸æ§åˆ¶åå¼±</b>ï¼Œè¿™åœ¨å¿™ç¢Œé˜¶æ®µå¾ˆå¸¸è§ã€‚</p>
    <p>æˆ‘ä»¬çš„æ€è·¯ä¸æ˜¯æŸä¸€ç“¶äº§å“â€œç«‹ç«¿è§å½±â€ï¼Œè€Œæ˜¯<span class="tag">è¯¾ç¨‹è®­ç»ƒ</span> + <span class="tag">æ—¥å¸¸é£Ÿå…»</span> + <span class="tag">å¤–ç”¨å…»æŠ¤</span> + <span class="tag">é™ªè·‘æœåŠ¡</span>å››ä½ä¸€ä½“ï¼Œ<b>ä¸€æ­¥æ­¥</b>æŠŠèƒ½é‡ä¸èŠ‚å¥å»ºç«‹ã€‚</p>
    <p>å»ºè®®å…ˆå¯åŠ¨<b>90å¤©â€œèƒ½é‡ä¸æ§åˆ¶åŠ›å”¤é†’æ–¹æ¡ˆâ€</b>ï¼šå‰2å‘¨è°ƒä½œæ¯+å…¥é—¨è®­ç»ƒï¼›ä¸­æœŸç»ƒæ§åˆ¶ï¼›åæœŸåšç¨³æ€å·©å›ºã€‚æˆ‘å…¨ç¨‹åšæ‚¨çš„ä¸“å±æ•™ç»ƒï¼Œæ–¹æ³•é€æ˜ã€è¿‡ç¨‹å¯æ§ã€‚</p>
    <p><b>ç°åœ¨å°±å…ˆæŠŠç¬¬ä¸€é˜¶æ®µå¼€èµ·æ¥</b>ï¼Œæœ¬å‘¨å³å¯è¿›å…¥èŠ‚å¾‹ã€‚æˆ‘å‡ºæ‰§è¡Œè¡¨ï¼Œæ‚¨çœ‹ä»Šå¤©å®‰æ’ä¸Šå¯ä»¥å—ï¼Ÿ</p>
  `;

  // è·¯å¾„
  document.getElementById('ph1').innerHTML = `
    <div class="tag mid">é˜¶æ®µä¸€ Â· ç ´å†°ï¼ˆç¬¬1-2å‘¨ï¼‰</div>
    <ul>
      <li><b>èŠ‚å¾‹ï¼š</b>å›ºå®šå°±å¯/èµ·åºŠç‚¹ï¼›æ™¨é—´å…‰ç…§+è¡¥æ°´â‰¥300mlã€‚</li>
      <li><b>è®­ç»ƒï¼š</b>å‘¼å¸+æ ¸å¿ƒå¼ åŠ›ï¼ˆ5-8åˆ†é’Ÿ/æ—¥ï¼‰ã€‚</li>
      <li><b>é£Ÿå…»ï¼š</b>é»„ç²¾æ·«ç¾Šè—¿/ç›å’–è¥¿æ´‹å‚ï¼ˆå®šä½ï¼šæ´»åŠ›ä¸æ„æ„¿ç¯å¢ƒ<small>æ”¯æŒ</small>ï¼‰ã€‚</li>
    </ul>`;
  document.getElementById('ph2').innerHTML = `
    <div class="tag mid">é˜¶æ®µäºŒ Â· é‡æ„ï¼ˆç¬¬3-6å‘¨ï¼‰</div>
    <ul>
      <li><b>æ§åˆ¶ï¼š</b>åˆ†æ®µå¼èŠ‚å¾‹ä¸æ³¨æ„åŠ›é”šå®šï¼ˆ10åˆ†é’Ÿ/æ—¥ï¼‰ã€‚</li>
      <li><b>å…»æŠ¤ï¼š</b>ä¿®å¤æŒ‰æ‘©è†/åšé‡‘æ²¹ï¼ˆå®šä½ï¼šç¡¬ä»¶ä¿å…»+é€šè·¯é¡ºç•…ï¼‰ã€‚</li>
      <li><b>å¤ç›˜ï¼š</b>æ¯å‘¨ä¸€æ¬¡è¡Œä¸ºè®°å½•ä¸èŠ‚å¾‹ä¼˜åŒ–ã€‚</li>
    </ul>`;
  document.getElementById('ph3').innerHTML = `
    <div class="tag mid">é˜¶æ®µä¸‰ Â· ä¸æœ½ï¼ˆç¬¬7-12å‘¨ï¼‰</div>
    <ul>
      <li><b>ç¨³æ€ï¼š</b>å·©å›ºæ§åˆ¶åŠ›ä¸æ¢å¤æ›²çº¿ï¼Œå½¢æˆâ€œä½å¼ºåº¦ã€å¯æŒç»­â€çš„é•¿æœŸæƒ¯æ€§ã€‚</li>
      <li><b>æƒ…ç»ªï¼š</b>é«˜å‹æ—¥åº”å¯¹æ¸…å•ï¼Œå‡å°‘æ³¢åŠ¨ã€‚</li>
      <li><b>è¾…åŠ©ï¼š</b>æ§æ—¶å–·å‰‚ï¼ˆåˆæœŸä»å®¹â€œå‰¯åˆ¹è½¦â€ï¼‰ï¼›ç„•èƒ½å‡éœ²ï¼ˆç§å¯†æ¸…æ´ä¸å“è´¨ä½“éªŒï¼‰ã€‚</li>
    </ul>`;
  document.getElementById('bundle').innerHTML = `
    <div class="tag mid">å»ºè®®æºå¸¦åŒ…ï¼ˆåˆè§„è¡¨è¾¾ï¼‰</div>
    <ul>
      <li><b>è¯¾ç¨‹/è®­ç»ƒï¼š</b>èŠ‚å¾‹ä¸æ§åˆ¶SOPï¼ˆæ‰“å¡ï¼‰ã€‚</li>
      <li><b>é£Ÿå…»æ”¯æŒï¼š</b>é»„ç²¾æ·«ç¾Šè—¿ã€ç›å’–è¥¿æ´‹å‚ã€‚</li>
      <li><b>å¤–ç”¨å…»æŠ¤ï¼š</b>ä¿®å¤æŒ‰æ‘©è†ã€åšé‡‘æ²¹ã€‚</li>
      <li><b>æ™ºèƒ½è¾…åŠ©ï¼š</b>æ§æ—¶å–·å‰‚ã€ç„•èƒ½å‡éœ²ã€‚</li>
    </ul>
    <small>ä»¥ä¸Šä¸ºå¥åº·ç®¡ç†å»ºè®®ï¼ŒéåŒ»ç–—ç»“è®ºï¼›è¯·ç»“åˆä½“æ„Ÿä¸æ‰§è¡ŒåŠ›åŠ¨æ€è°ƒæ•´ã€‚</small>`;

  // é›·è¾¾
  drawRadar([s.energy,s.stability,s.control,s.recovery]);

  // CTA
  document.getElementById('startBtn').onclick = ()=>alert("å·²ä¸ºè¯¥å®¢æˆ·ç”Ÿæˆã€Š90å¤©èƒ½é‡ä¸æ§åˆ¶åŠ›å”¤é†’æ–¹æ¡ˆã€‹æ‰§è¡Œæ¸…å•ï¼ˆç¤ºä¾‹ï¼‰ã€‚å®é™…è·Ÿè¿›è¯·åœ¨ä¼ä¸šå¾®ä¿¡/é£ä¹¦åˆ›å»ºä¸“å±æ‰“å¡ä¸å‘¨å¤ç›˜ã€‚");
}

/* ======================
   4) é›·è¾¾å›¾ï¼ˆCanvasï¼‰
   ====================== */
function drawRadar(vals){
  const cvs = document.getElementById('radar');
  const dpr = Math.min(2, window.devicePixelRatio||1);
  const w = cvs.clientWidth, h = cvs.clientHeight;
  cvs.width = w*dpr; cvs.height = h*dpr;
  const ctx = cvs.getContext('2d'); ctx.scale(dpr,dpr);
  ctx.clearRect(0,0,w,h);
  const cx = w/2, cy = h/2+6, R = Math.min(w,h)*0.36;
  const axes = ["èƒ½é‡","ç¨³å®š","æ§åˆ¶","æ¢å¤"];
  // ç½‘æ ¼
  for(let r=1;r<=4;r++){
    ctx.beginPath(); ctx.strokeStyle=`rgba(255,255,255,${.06+r*0.03})`; ctx.lineWidth=1;
    for(let i=0;i<axes.length;i++){
      const ang = -Math.PI/2 + i*2*Math.PI/axes.length;
      const x = cx + Math.cos(ang)*R*r/4, y = cy + Math.sin(ang)*R*r/4;
      if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
    } ctx.closePath(); ctx.stroke();
  }
  // è½´ & æ ‡ç­¾
  ctx.fillStyle="rgba(255,255,255,.76)"; ctx.font="12px system-ui";
  axes.forEach((lab,i)=>{
    const ang = -Math.PI/2 + i*2*Math.PI/axes.length;
    const x = cx + Math.cos(ang)*R*1.06, y = cy + Math.sin(ang)*R*1.06;
    ctx.fillText(lab, x-12, y+4);
    ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx + Math.cos(ang)*R, cy + Math.sin(ang)*R);
    ctx.strokeStyle="rgba(255,255,255,.06)"; ctx.stroke();
  });
  // é¢
  ctx.beginPath();
  vals.forEach((v,i)=>{
    const ang = -Math.PI/2 + i*2*Math.PI/axes.length;
    const x = cx + Math.cos(ang)*R*v, y = cy + Math.sin(ang)*R*v;
    if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
  });
  ctx.closePath();
  const grad = ctx.createLinearGradient(0,0,w,h);
  grad.addColorStop(0,"rgba(61,214,208,.45)"); grad.addColorStop(1,"rgba(138,92,255,.45)");
  ctx.fillStyle=grad; ctx.strokeStyle="rgba(255,255,255,.5)"; ctx.lineWidth=1.2;
  ctx.fill(); ctx.stroke();
  // ç‚¹
  vals.forEach((v,i)=>{
    const ang = -Math.PI/2 + i*2*Math.PI/axes.length;
    const x = cx + Math.cos(ang)*R*v, y = cy + Math.sin(ang)*R*v;
    ctx.beginPath(); ctx.arc(x,y,3,0,Math.PI*2); ctx.fillStyle="#fff"; ctx.fill();
  });
}

/* ======================
   5) æ˜Ÿç©ºï¼ˆä½é…é™çº§ï¼‰
   ====================== */
(function starfield(){
  const cvs = document.getElementById('bg'); const ctx = cvs.getContext('2d');
  let w,h, dpr = Math.min(2, window.devicePixelRatio||1);
  let stars = [], paused = false;

  const smallScreen = Math.min(innerWidth, innerHeight) < 420;
  const baseCount = smallScreen ? 80 : 160;         // æ‰‹æœºå‡å°‘ç²’å­
  const fps = smallScreen ? 40 : 55;                // é™ä½åˆ·æ–°ç‡
  let last = 0;

  function resize(){
    w = cvs.width = innerWidth*dpr; h = cvs.height = innerHeight*dpr; ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  function init(){
    resize(); stars = [];
    for(let i=0;i<baseCount;i++){
      stars.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,z:Math.random()*1.2+0.2,a:Math.random()*2*Math.PI,s:Math.random()*0.7+0.3});
    }
  }
  function tick(ts){
    if(paused) return;
    if(ts - last < 1000/fps){ requestAnimationFrame(tick); return; }
    last = ts;
    ctx.clearRect(0,0,innerWidth,innerHeight);
    for(const s of stars){
      s.x += Math.cos(s.a)*0.02*s.z; s.y += Math.sin(s.a)*0.02*s.z;
      if(s.x<0) s.x=innerWidth; if(s.x>innerWidth) s.x=0;
      if(s.y<0) s.y=innerHeight; if(s.y>innerHeight) s.y=0;
      ctx.fillStyle=`rgba(140,200,255,${0.18+0.5*s.z})`;
      ctx.fillRect(s.x, s.y, 1.0+1.2*s.s, 1.0+1.2*s.s);
    }
    requestAnimationFrame(tick);
  }
  addEventListener('resize', init, {passive:true});
  addEventListener('visibilitychange', ()=>{paused = document.hidden; if(!paused) requestAnimationFrame(tick);});
  init(); requestAnimationFrame(tick);
})();

/* ======================
   6) ç¼–è¾‘å™¨
   ====================== */
const editor = document.getElementById('editor');
const jsonArea = document.getElementById('jsonArea');
document.getElementById('editBtn').onclick = ()=>{
  editor.style.display='block'; jsonArea.value = JSON.stringify(data,null,2);
};
function applyJSON(){
  try{ data = JSON.parse(jsonArea.value); render(); editor.style.display='none'; }
  catch(e){ alert("JSON è§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ ¼å¼ã€‚"); }
}
function demoFill(){
  jsonArea.value = JSON.stringify({client:{name:"æå…ˆç”Ÿ",age:42,occupation:"åˆ¶é€ ä¸šè´Ÿè´£äºº",answers:{
    erectionHardness:"æ’å…¥æˆ–ä¸å¤Ÿåšç¡¬",maintainAbility:"å¶å°”å¯ä»¥",timeToEjac:"1åˆ†é’Ÿä»¥å†…",fatigue:"ç»å¸¸",
    libidoChange:"å‡ ä¹æ²¡æœ‰",performanceChange:"å‡ ä¹æ²¡æœ‰",anxiety:"ä»ä¸æˆ–å¾ˆå°‘",interestInSex:"å‡ ä¹æ²¡æœ‰",
    thinkNormalAging:"æ¯”è¾ƒè®¤åŒ",lifestylePoor:"å¶å°”",relationshipImpact:"æ²¡æœ‰å½±å“"}}},null,2);
}

/* åˆå§‹æ¸²æŸ“ */
render();
</script>
</body>
</html>
